

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Initial Configuration in Linux &mdash; Arena 0.1.24.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Arena 0.1.24.0 documentation" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home">
          

          <!--
            
            <img src="_static/lucid-white.png" class="logo" />
          -->
          </a>

          
            
            
              <div class="version">
                0.1.24
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="welcome.html">Welcome</a></li>
<li class="toctree-l1"><a class="reference internal" href="contact_us.html">Contact Us</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started_sdk_datasheet.html">Arena SDK Datasheet</a></li>
<li class="toctree-l1"><a class="reference internal" href="arena_sdk_windows.html">Arena SDK for Windows</a></li>
<li class="toctree-l1"><a class="reference internal" href="arena_sdk_linux.html">Arena SDK for Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="sdk.html">Code Reference &amp; Samples</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Arena</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Initial Configuration in Linux</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="initial-configuration-in-linux">
<h1>Initial Configuration in Linux<a class="headerlink" href="#initial-configuration-in-linux" title="Permalink to this headline">¶</a></h1>
<div class="section" id="ethernet-adapter-configuration">
<h2>Ethernet Adapter Configuration<a class="headerlink" href="#ethernet-adapter-configuration" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="installing-the-ethernet-driver">
<h2>Installing the Ethernet Driver<a class="headerlink" href="#installing-the-ethernet-driver" title="Permalink to this headline">¶</a></h2>
<p>LUCID recommends updating the Ethernet driver on your Ethernet adapter to the latest driver available before connecting your camera. You may need to update your kernel to get the latest version of the Ethernet driver.</p>
</div>
<div class="section" id="jumbo-frames">
<h2>Jumbo Frames<a class="headerlink" href="#jumbo-frames" title="Permalink to this headline">¶</a></h2>
<p>LUCID recommends enabling jumbo frames on your Ethernet adapter. A jumbo frame is an Ethernet frame that is larger than 1500 bytes. Most Ethernet adapters support jumbo frames, however it is usually turned off by default.</p>
<p>Enabling jumbo frames on the Ethernet adapter allows a packet size of up to 9000 bytes to be set on the camera. The larger packet size will enable optimal performance on high-bandwidth cameras, and it usually reduces CPU load on the host system. Please note in order to set a 9000 byte packet size on the camera, the Ethernet adapter must support a jumbo frame size of 9000 bytes or higher. Jumbo frames can be enabled in your Ethernet adapter’s properties.</p>
<p>Using Ubuntu System Settings -&gt; Network:</p>
<blockquote>
<div><img alt="_images/ubuntu_adapter_jumbo_frames.png" src="_images/ubuntu_adapter_jumbo_frames.png" />
</div></blockquote>
<p>Using the terminal:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo ifconfig enp0s8 mtu <span class="m">9000</span>
</pre></div>
</div>
<p>The above command sets enp0s8 to an MTU size of 9000 to enable jumbo frames.</p>
</div>
<div class="section" id="receive-buffers">
<h2>Receive Buffers<a class="headerlink" href="#receive-buffers" title="Permalink to this headline">¶</a></h2>
<p>A receive buffer is the size of system memory that can be used by the Ethernet adapter to receive packets. Some network adapter drivers or the operating system itself may set the receive buffer value to a low value by default, which may result in decreased performance. Increasing the receive buffer size, however, will also result in increased system memory usage. On Linux, you can use the utility ethtool to adjust the receive buffer size.</p>
<p>Using the terminal:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo ethtool -g enp0s8
<span class="go">Ring parameters for enp0s8:</span>
<span class="go">Pre-set maximums:</span>
<span class="go">RX:         4096</span>
<span class="go">RX Mini:    0</span>
<span class="go">RX Jumbo:   0</span>
<span class="go">TX:         4096</span>
<span class="go">Current hardware settings:</span>
<span class="go">RX:         256</span>
<span class="go">RX Mini:    0</span>
<span class="go">RX Jumbo:   0</span>
<span class="go">TX:         256</span>

<span class="gp">$</span> sudo ethtool -G enp0s8 rx <span class="m">4096</span>
</pre></div>
</div>
<p>The above commands query and set the maximum receive buffer size on enp0s8.</p>
<table border="1" class="docutils">
<colgroup>
<col width="9%" />
<col width="91%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="_images/help_icon.png"><img alt="help" src="_images/help_icon.png" style="width: 70px;" /></a></td>
<td>Using your Ethernet adapter’s maximum supported receive buffer size is recommended.</td>
</tr>
</tbody>
</table>
<p>On most standard Linux installations, the default maximum socket buffer size is a small number which may result in decreased streaming performance. It is also recommended to set the socket buffer size. Using the terminal:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo sh -c <span class="s2">&quot;echo &#39;net.core.rmem_default=1048576&#39; &gt;&gt; /etc/sysctl.conf&quot;</span>
<span class="gp">$</span> sudo sh -c <span class="s2">&quot;echo &#39;net.core.rmem_max=1048576&#39; &gt;&gt; /etc/sysctl.conf&quot;</span>
<span class="gp">$</span> sudo sysctl -p
</pre></div>
</div>
<p>The above commands set the socket buffer size to 1 MB.</p>
</div>
</div>
<div class="section" id="ip-address-assignment">
<h1>IP Address Assignment<a class="headerlink" href="#ip-address-assignment" title="Permalink to this headline">¶</a></h1>
<p>There are three methods used by LUCID cameras to obtain an IP address:</p>
<ul class="simple">
<li>Persistent - The camera uses a fixed IP address</li>
<li>Dynamic Host Configuration Protocol (DHCP) - The camera is assigned an address from a DHCP server</li>
<li>Link-Local Address (LLA) - The camera obtains an address in the Link-Local address range from 169.254.1.0 to 169.254.254.255</li>
</ul>
<p>Persistent IP and DHCP configurations can be disabled on the camera. Out of the box, persistent IP is disabled and DHCP is enabled. LLA is always enabled.</p>
<table border="1" class="docutils">
<colgroup>
<col width="5%" />
<col width="95%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="_images/help_icon.png"><img alt="help" src="_images/help_icon.png" style="width: 70px;" /></a></td>
<td>A Link-Local address is selected with a pseudo-random number generator, so an LLA address cannot be reliably predicted.
If you require a consistent IP address, you should set up a persistent IP on the camera.
For more information on Link-Local Address selection, refer to <a class="reference external" href="https://tools.ietf.org/html/rfc3927#section-2.1">Section 2.1 in RFC 3927</a>.</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="89%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td rowspan="2"><a class="reference internal" href="_images/lightbulb_icon.png"><img alt="lightbulb" src="_images/lightbulb_icon.png" style="width: 70px;" /></a></td>
<td rowspan="2">The camera must be on the same subnet as the Ethernet adapter and have a valid IP address before use.</td>
</tr>
<tr class="row-even"></tr>
</tbody>
</table>
<div class="section" id="camera-ip-setup">
<h2>Camera IP Setup<a class="headerlink" href="#camera-ip-setup" title="Permalink to this headline">¶</a></h2>
<p>Persistent IP and DHCP configurations can be disabled on the camera. The default camera configuration is as follows:</p>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="58%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Persistent IP</strong></td>
<td>Disabled</td>
</tr>
<tr class="row-even"><td><strong>DHCP</strong></td>
<td>Enabled</td>
</tr>
<tr class="row-odd"><td><strong>LLA</strong></td>
<td>Enabled (always enabled)</td>
</tr>
</tbody>
</table>
<p>Out of the box, the camera first attempts to connect using DHCP. If the camera is unable to connect using DHCP, it will use Link-Local addressing.</p>
</div>
<div class="section" id="reverse-path-filtering">
<h2>Reverse Path Filtering<a class="headerlink" href="#reverse-path-filtering" title="Permalink to this headline">¶</a></h2>
<p>Most Linux systems will check whether a packet can be received through the Ethernet interface as configured.  A device can be ignored if its IP address conflicts with the Ethernet adapter.</p>
<p>Disabling reverse path filtering skips this check. The following command disables reverse path filtering on enp0s8 and any new Ethernet interfaces:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo sysctl -w net.ipv4.conf.default.rp_filter<span class="o">=</span><span class="m">0</span>
<span class="gp">$</span> sudo sysctl -w net.ipv4.conf.all.rp_filter<span class="o">=</span><span class="m">0</span>
<span class="gp">$</span> sudo sysctl -w net.ipv4.conf.enp0s8.rp_filter<span class="o">=</span><span class="m">0</span>
</pre></div>
</div>
<p>The above commands are not retained when the system reboots. You can also permanently disable reverse path filtering by commenting out or removing any lines mentioning the following in /etc/sysctl.d/10-network-security.conf:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">net.ipv4.conf.default.rp_filter=1</span>
<span class="go">net.ipv4.conf.all.rp_filter=1</span>
</pre></div>
</div>
</div>
<div class="section" id="setting-up-persistent-ip-or-dhcp-on-the-camera-with-ip-config-utility">
<h2>Setting Up Persistent IP or DHCP on the Camera with IP Config Utility<a class="headerlink" href="#setting-up-persistent-ip-or-dhcp-on-the-camera-with-ip-config-utility" title="Permalink to this headline">¶</a></h2>
<p>Arena SDK provides a simple command-line utility named IP Config Utility to configure your camera’s IP address.</p>
<p>The following command shows all connected cameras:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> ./IpConfigUtility /list

<span class="go">[index] MAC             IP              SUBNET          GATEWAY                 IP CONFIG</span>
<span class="go">[0]     1C0FAF000001    169.254.101.0   255.255.0.0     0.0.0.0                 DHCP= 1 Persistent Ip= 1 LLA = 1</span>
</pre></div>
</div>
<p>The following commands show how to enable and set a persistent IP address on a camera with the MAC address of 1C:0F:AF:00:00:01:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> ./IpConfigUtility /config -m 1C0FAF000001 -p <span class="nb">true</span>
<span class="gp">$</span> ./IpConfigUtility /persist -m 1C0FAF000001 -p <span class="nb">true</span> -a <span class="m">192</span>.168.0.10 -s <span class="m">255</span>.255.0.0 -g <span class="m">0</span>.0.0.0
</pre></div>
</div>
<p>The following commands show how to enable persistent IP and set a persistent IP address on a camera listed at index 0:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> ./IpConfigUtility /config -i <span class="m">0</span> -p <span class="nb">true</span>
<span class="gp">$</span> ./IpConfigUtility /persist -i <span class="m">0</span> -p <span class="nb">true</span> -a <span class="m">192</span>.168.0.10 -s <span class="m">255</span>.255.0.0 -g <span class="m">0</span>.0.0.0
</pre></div>
</div>
<p>The following command shows how to enable DHCP on a camera listed at index 0:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> ./IpConfigUtility /config -i <span class="m">0</span> -d <span class="nb">true</span>
</pre></div>
</div>
<p>The following commands show how to enable persistent IP and DHCP and set a persistent IP address on a camera listed at index 0:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> ./IpConfigUtility /config -i <span class="m">0</span> -p <span class="nb">true</span> -d <span class="nb">true</span>
<span class="gp">$</span> ./IpConfigUtility /persist -i <span class="m">0</span> -p <span class="nb">true</span> -a <span class="m">192</span>.168.0.10 -s <span class="m">255</span>.255.0.0 -g <span class="m">0</span>.0.0.0
</pre></div>
</div>
</div>
<div class="section" id="forcing-an-ip-address-on-the-camera-with-ip-config-utility">
<h2>Forcing an IP Address on the Camera with IP Config Utility<a class="headerlink" href="#forcing-an-ip-address-on-the-camera-with-ip-config-utility" title="Permalink to this headline">¶</a></h2>
<p>The following command shows how to force an IP address on a camera with the MAC address of 1C:0F:AF:00:00:01:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> ./IpConfigUtility /force -m 1C0FAF000001 -a <span class="m">192</span>.168.0.10 -s <span class="m">255</span>.255.0.0 -g <span class="m">0</span>.0.0.0
</pre></div>
</div>
</div>
<div class="section" id="setting-up-lla-on-the-ethernet-adapter">
<h2>Setting Up LLA on the Ethernet Adapter<a class="headerlink" href="#setting-up-lla-on-the-ethernet-adapter" title="Permalink to this headline">¶</a></h2>
<p>The following steps illustrate an example configuration for one Ethernet adapter to use the LLA space.</p>
<ol class="arabic">
<li><p class="first">Navigate to System -&gt; System Settings -&gt; Network</p>
</li>
<li><p class="first">Click on your Ethernet adapter and click <strong>Options</strong></p>
<img alt="_images/ubuntu_edit_properties.png" src="_images/ubuntu_edit_properties.png" />
</li>
<li><p class="first">Select the <strong>IPv4 Settings</strong> tab, choose <strong>Manual</strong> for Method. In the Addresses heading, click <strong>Add</strong> and enter the following details:</p>
<table border="1" class="docutils">
<colgroup>
<col width="57%" />
<col width="43%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>IP address</strong></td>
<td>169.254.0.1</td>
</tr>
<tr class="row-even"><td><strong>Subnet mask</strong></td>
<td>255.255.0.0</td>
</tr>
</tbody>
</table>
<img alt="_images/ubuntu_ipv4_properties.png" src="_images/ubuntu_ipv4_properties.png" />
<p>Gateway, DNS servers, and Search domain details can be left blank.</p>
</li>
</ol>
<p>You can also set up your Ethernet adapter to use the LLA space using the terminal:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo ifconfig enp0s8 <span class="m">169</span>.254.0.1 netmask <span class="m">255</span>.255.0.0
</pre></div>
</div>
<p>The above command sets enp0s8 to the IP address of 169.254.0.1 with the subnet mask 255.255.0.0.</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Lucid Vision Labs, Inc.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1.24.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>